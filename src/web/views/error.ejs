<%- include('layout', { body: `
<div class="page">
  <div class="error-page">
    <div class="error-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <line x1="12" y1="8" x2="12" y2="12"/>
        <line x1="12" y1="16" x2="12.01" y2="16"/>
      </svg>
    </div>
    <h1 class="error-title">Error ${typeof error !== 'undefined' && error.status ? error.status : ''}</h1>
    <p class="error-message">${typeof message !== 'undefined' ? (function(str) {
      if (!str) return 'An error occurred';
      return String(str)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#39;');
    })(message) : 'An error occurred'}</p>
    <a href="/" class="btn btn-primary">Back to Dashboard</a>

    ${typeof error !== 'undefined' && error.stack ? `
    <details class="error-details mt-6">
      <summary>Error Details</summary>
      <pre class="error-stack">${(function(str) {
        if (!str) return '';
        return String(str)
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#39;');
      })(error.stack)}</pre>
    </details>
    ` : ''}
  </div>
</div>
`, activePage: '' }) %>
